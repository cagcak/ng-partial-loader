{"version":3,"file":"ng-partial-loader.mjs","sources":["../../../projects/ng-partial-loader/src/lib/ng-partial-loader.directive.ts","../../../projects/ng-partial-loader/src/lib/ng-partial-loader.module.ts","../../../projects/ng-partial-loader/src/public-api.ts","../../../projects/ng-partial-loader/src/ng-partial-loader.ts"],"sourcesContent":["import {\n  Directive,\n  ElementRef,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnInit,\n  Renderer2,\n  SimpleChanges,\n} from '@angular/core';\n\nexport type NgPartialLoaderOptions = Partial<{\n  path: string;\n  fallback: string;\n  customLoader: string;\n  minHeight: string;\n  loader:\n    | 'blocks'\n    | 'dual-ring'\n    | 'pulse'\n    | 'rolling'\n    | 'spin'\n    | 'cube'\n    | 'double-ring'\n    | 'ellipsis'\n    | 'ripple'\n    | 'spinner';\n}>;\n\n@Directive({\n  selector: '[ngPartialLoader]',\n})\nexport class NgPartialLoaderDirective implements OnInit, OnChanges {\n  @HostBinding('style.position')\n  hostPosition = 'relative';\n\n  @Input()\n  ngPartialLoader = false;\n\n  @Input()\n  loaderOptions: NgPartialLoaderOptions;\n\n  uuid: string;\n\n  private get utils() {\n    const options = this.loaderOptions;\n    const defaults: NgPartialLoaderOptions = {\n      path: 'assets',\n      loader: 'cube',\n      minHeight: '40px',\n    };\n\n    return {\n      options: { ...defaults, ...(options && { ...options }) },\n      loader() {\n        const { path, loader, customLoader } = this.options;\n        return `${path}/${customLoader || loader + '.svg'}`;\n      },\n      uuidv4() {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (replacer) => {\n          const random = (Math.random() * 16) | 0;\n          const uuid = replacer === 'x' ? random : (random & 0x3) | 0x8;\n          return uuid.toString(16);\n        });\n      },\n    };\n  }\n\n  constructor(private targetEl: ElementRef, private renderer: Renderer2) {\n    this.uuid = `ng-partial-loader-${this.utils.uuidv4()}`;\n  }\n\n  ngOnInit() {\n    const loader = this.renderer.createElement('div') as HTMLDivElement;\n\n    this.renderer.setAttribute(loader, 'id', this.uuid);\n    this.renderer.setStyle(loader, 'display', this.ngPartialLoader ? 'flex' : 'none');\n    this.renderer.setStyle(loader, 'position', 'absolute');\n    this.renderer.setStyle(loader, 'justify-content', 'center');\n    this.renderer.setStyle(loader, 'align-items', 'center');\n    this.renderer.setStyle(loader, 'width', '100%');\n    this.renderer.setStyle(loader, 'height', '100%');\n    this.renderer.setStyle(loader, 'max-height', '40px');\n    this.renderer.setStyle(loader, 'top', '0');\n    this.renderer.setStyle(loader, 'background-image', `url(\"${this.utils.loader()}\")`);\n    this.renderer.setStyle(loader, 'background-size', 'contain');\n    this.renderer.setStyle(loader, 'background-repeat', 'no-repeat');\n    this.renderer.setStyle(loader, 'background-position', 'center');\n\n    if (this.utils.options?.fallback) {\n      this.renderer.setStyle(loader, 'background', `url(${this.utils.options.fallback}) no-repeat center`);\n    }\n\n    const element = this.targetEl.nativeElement as HTMLElement;\n    element.style.minHeight = this.utils.options.minHeight as string;\n    this.renderer.appendChild(element, loader);\n  }\n\n  ngOnChanges(simpleChanges: SimpleChanges) {\n    if (!simpleChanges['ngPartialLoader']?.firstChange) {\n      const container = this.targetEl.nativeElement as HTMLDivElement;\n      const div = container.querySelector(`#${this.uuid}`);\n      if (div) {\n        this.renderer.setStyle(div, 'display', this.ngPartialLoader ? 'flex' : 'none');\n      }\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgPartialLoaderDirective } from './ng-partial-loader.directive';\n\n@NgModule({\n  declarations: [NgPartialLoaderDirective],\n  exports: [NgPartialLoaderDirective],\n})\nexport class NgPartialLoaderModule {}\n","/*\n * Public API Surface of ng-partial-loader\n */\n\nexport * from './lib/ng-partial-loader.module';\nexport * from './lib/ng-partial-loader.directive';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}